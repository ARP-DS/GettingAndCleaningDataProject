# name variables
varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
varnames <- substr(varnames,6,18)
varnames <- sub("Acc","acceleration",varnames)
varnames <- sub("Gyro","velocity",varnames)
varnames <- sub("\\()","",varnames)
allnames <- c(names(all[1]),names(all[2]),varnames)
colnames(all) <- allnames
# load dplyr
library(dplyr)
# read test data and join all into a table
xtest <- read.table("X_test.txt")
ytest <- read.table("Y_test.txt")
names(ytest)<-"activity"
stest <- read.table("subject_test.txt")
names(stest) <- "subject"
test <- cbind(stest,ytest,xtest)
test <- tbl_df(test)
# read train and join all into a table
xtrain <- read.table("X_train.txt")
ytrain <- read.table("Y_train.txt")
names(ytrain)<-"activity"
strain <- read.table("subject_train.txt")
names(strain) <- "subject"
train <- cbind(strain,ytrain,xtrain)
train <- tbl_df(train)
# read labels and features
labels <- read.table("activity_labels.txt")
features <- read.table("features.txt")
# test+train
all <- rbind(test,train)
# select mean and standar deviation
# name activities
all %>%
select(subject, activity,V1:V6,V121:V126) %>%
mutate(activity=as.factor(activity))
levels(t2$activity)<-labels[,2]
# name variables
varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
varnames <- substr(varnames,6,18)
varnames <- sub("Acc","acceleration",varnames)
varnames <- sub("Gyro","velocity",varnames)
varnames <- sub("\\()","",varnames)
allnames <- c(names(all[1]),names(all[2]),varnames)
colnames(all) <- allnames
# load dplyr
library(dplyr)
# read test data and join all into a table
xtest <- read.table("X_test.txt")
ytest <- read.table("Y_test.txt")
names(ytest)<-"activity"
stest <- read.table("subject_test.txt")
names(stest) <- "subject"
test <- cbind(stest,ytest,xtest)
test <- tbl_df(test)
# read train and join all into a table
xtrain <- read.table("X_train.txt")
ytrain <- read.table("Y_train.txt")
names(ytrain)<-"activity"
strain <- read.table("subject_train.txt")
names(strain) <- "subject"
train <- cbind(strain,ytrain,xtrain)
train <- tbl_df(train)
# read labels and features
labels <- read.table("activity_labels.txt")
features <- read.table("features.txt")
# test+train
all <- rbind(test,train)
# select mean and standar deviation
# name activities
all <- select(all, subject, activity,V1:V6,V121:V126)
all <- mutate(all, activity=as.factor(activity))
levels(all$activity)<-labels[,2]
# name variables
varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
varnames <- substr(varnames,6,18)
varnames <- sub("Acc","acceleration",varnames)
varnames <- sub("Gyro","velocity",varnames)
varnames <- sub("\\()","",varnames)
allnames <- c(names(all[1]),names(all[2]),varnames)
colnames(all) <- allnames
names(all)
all
t2 <- group_by(all,activity,subject)
a <- summarise(t2,mean(acceleration-mean-x))
a <- summarise(t2,mean(t2$acceleration-mean-x))
?summarise
t2
a <- summarise(t2,a=mean(t2$acceleration-mean-x))
a <- summarise(t1,a=mean(t2$acceleration-mean-x))
a <- select(t1,subject,activity,acceleration-mean-x)
names(t1)
a <- select(t1,id,activity,V1)
summarize(t1,a=mean(V1))
a <- select(t1,id,activity,V1,V2)
summarize(t1,a=mean(V1))
# load dplyr
library(dplyr)
# read test data and join all into a table
xtest <- read.table("X_test.txt")
ytest <- read.table("Y_test.txt")
names(ytest)<-"activity"
stest <- read.table("subject_test.txt")
names(stest) <- "subject"
test <- cbind(stest,ytest,xtest)
test <- tbl_df(test)
# read train and join all into a table
xtrain <- read.table("X_train.txt")
ytrain <- read.table("Y_train.txt")
names(ytrain)<-"activity"
strain <- read.table("subject_train.txt")
names(strain) <- "subject"
train <- cbind(strain,ytrain,xtrain)
train <- tbl_df(train)
# read labels and features
labels <- read.table("activity_labels.txt")
features <- read.table("features.txt")
# test+train
t1 <- rbind(test,train)
# select mean and standar deviation
# name activities
t1 <- select(t1, subject, activity,V1:V6,V121:V126)
t1 <- mutate(t1, activity=as.factor(activity))
levels(t1$activity)<-labels[,2]
#-----------------------
## name variables
#varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
#varnames <- substr(varnames,6,18)
#varnames <- sub("Acc","acceleration",varnames)
#varnames <- sub("Gyro","velocity",varnames)
#varnames <- sub("\\()","",varnames)
#t1names <- c(names(t1[1]),names(t1[2]),varnames)
#colnames(t1) <- t1names
#--------------------------------------
# mean of each variable of each variable for each activity and each subject
t2 <- group_by(t1,activity,subject)
t2
summarize(t2,a=mean(V1))
a<-summarize(t2,a=mean(V1))
nrow(a)
View(a)
# load dplyr
library(dplyr)
# read test data and join all into a table
xtest <- read.table("X_test.txt")
ytest <- read.table("Y_test.txt")
names(ytest)<-"activity"
stest <- read.table("subject_test.txt")
names(stest) <- "subject"
test <- cbind(stest,ytest,xtest)
test <- tbl_df(test)
# read train and join all into a table
xtrain <- read.table("X_train.txt")
ytrain <- read.table("Y_train.txt")
names(ytrain)<-"activity"
strain <- read.table("subject_train.txt")
names(strain) <- "subject"
train <- cbind(strain,ytrain,xtrain)
train <- tbl_df(train)
# read labels and features
labels <- read.table("activity_labels.txt")
features <- read.table("features.txt")
# test+train
t1 <- rbind(test,train)
# select mean and standar deviation
# name activities
t1 <- select(t1, subject, activity,V1:V6,V121:V126)
t1 <- mutate(t1, activity=as.factor(activity))
levels(t1$activity)<-labels[,2]
# name variables
varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
varnames <- substr(varnames,6,18)
varnames <- sub("Acc","acceleration",varnames)
varnames <- sub("Gyro","velocity",varnames)
varnames <- sub("\\()","",varnames)
t1names <- c(names(t1[1]),names(t1[2]),varnames)
colnames(t1) <- t1names
# mean of each variable of each variable for each activity and each subject
t2 <- group_by(t1,activity,subject)
a <- summarize(t2,m-acceleration-mean-x=mean(acceleration-mean-x))
# name variables
varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
varnames <- substr(varnames,6,18)
varnames <- sub("Acc","acceleration",varnames)
varnames <- sub("Gyro","velocity",varnames)
varnames <- sub("\\()","",varnames)
varnames <- sub("-","",varnames)
t1names <- c(names(t1[1]),names(t1[2]),varnames)
colnames(t1) <- t1names
# mean of each variable of each variable for each activity and each subject
t2 <- group_by(t1,activity,subject)
t2
# name variables
varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
varnames <- substr(varnames,6,18)
varnames <- sub("Acc","acceleration",varnames)
varnames <- sub("Gyro","velocity",varnames)
varnames <- sub("\\()","",varnames)
varnames <- gsub("-","",varnames)
t1names <- c(names(t1[1]),names(t1[2]),varnames)
colnames(t1) <- t1names
# mean of each variable of each variable for each activity and each subject
t2 <- group_by(t1,activity,subject)
t2
?tolower
# name variables
varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
varnames <- substr(varnames,6,18)
varnames <- sub("Acc","acceleration",varnames)
varnames <- sub("Gyro","velocity",varnames)
varnames <- sub("\\()","",varnames)
varnames <- gsub("-","",varnames)
varnames <- tolower(varnames)
t1names <- c(names(t1[1]),names(t1[2]),varnames)
colnames(t1) <- t1names
# mean of each variable of each variable for each activity and each subject
t2 <- group_by(t1,activity,subject)
t2
summarize(t2,a=mean(accelerationmeanx))
summarize(t2,Maccelerationmeanx=mean(accelerationmeanx),Maccelerationmeany=mean(accelerationmeany),Maccelerationmeanz=mean(accelerationmeanz),Maccelerationstdx=mean(accelerationstdx),Maccelerationstdy=mean(accelerationstdy),Maccelerationstdz=mean(accelerationstdz),Mvelocitymeanx=mean(velocitymeanx),Mvelocitymeany=mean(velocitymeany),Mvelocitymeanz=mean(velocitymeanz),Mvelocitystdx=mean(velocitystdx),Mvelocitystdy=mean(velocitystdy),Mvelocitystdz=mean(velocitystdz))
# load dplyr
library(dplyr)
# read test data and join all into a table
xtest <- read.table("X_test.txt")
ytest <- read.table("Y_test.txt")
names(ytest)<-"activity"
stest <- read.table("subject_test.txt")
names(stest) <- "subject"
test <- cbind(stest,ytest,xtest)
test <- tbl_df(test)
# read train and join all into a table
xtrain <- read.table("X_train.txt")
ytrain <- read.table("Y_train.txt")
names(ytrain)<-"activity"
strain <- read.table("subject_train.txt")
names(strain) <- "subject"
train <- cbind(strain,ytrain,xtrain)
train <- tbl_df(train)
# read labels and features
labels <- read.table("activity_labels.txt")
features <- read.table("features.txt")
# test+train
t1 <- rbind(test,train)
# select mean and standar deviation
# name activities
t1 <- select(t1, subject, activity,V1:V6,V121:V126)
t1 <- mutate(t1, activity=as.factor(activity))
levels(t1$activity)<-labels[,2]
# name variables
varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
varnames <- substr(varnames,6,18)
varnames <- sub("Acc","acceleration",varnames)
varnames <- sub("Gyro","velocity",varnames)
varnames <- sub("\\()","",varnames)
varnames <- gsub("-","",varnames)
varnames <- tolower(varnames)
t1names <- c(names(t1[1]),names(t1[2]),varnames)
colnames(t1) <- t1names
# mean of each variable of each variable for each activity and each subject
t2 <- group_by(t1,activity,subject)
t2 <-summarize(t2,
Maccelerationmeanx=mean(accelerationmeanx),
Maccelerationmeany=mean(accelerationmeany),
Maccelerationmeanz=mean(accelerationmeanz),
Maccelerationstdx=mean(accelerationstdx),
Maccelerationstdy=mean(accelerationstdy),
Maccelerationstdz=mean(accelerationstdz),
Mvelocitymeanx=mean(velocitymeanx),
Mvelocitymeany=mean(velocitymeany),
Mvelocitymeanz=mean(velocitymeanz),
Mvelocitystdx=mean(velocitystdx),
Mvelocitystdy=mean(velocitystdy),
Mvelocitystdz=mean(velocitystdz))
summarize(tg,Maccelerationmeanx=mean(accelerationmeanx),Maccelerationmeany=mean(accelerationmeany),Maccelerationmeanz=mean(accelerationmeanz),Maccelerationstdx=mean(accelerationstdx),Maccelerationstdy=mean(accelerationstdy),Maccelerationstdz=mean(accelerationstdz),Mvelocitymeanx=mean(velocitymeanx),Mvelocitymeany=mean(velocitymeany),Mvelocitymeanz=mean(velocitymeanz),Mvelocitystdx=mean(velocitystdx),Mvelocitystdy=mean(velocitystdy),Mvelocitystdz=mean(velocitystdz))
t2 <- group_by(t1,activity,subject)
t2 <-summarize(t2,
Maccelerationmeanx=mean(accelerationmeanx),
Maccelerationmeany=mean(accelerationmeany),
Maccelerationmeanz=mean(accelerationmeanz),
Maccelerationstdx=mean(accelerationstdx),
Maccelerationstdy=mean(accelerationstdy),
Maccelerationstdz=mean(accelerationstdz),
Mvelocitymeanx=mean(velocitymeanx),
Mvelocitymeany=mean(velocitymeany),
Mvelocitymeanz=mean(velocitymeanz),
Mvelocitystdx=mean(velocitystdx),
Mvelocitystdy=mean(velocitystdy),
Mvelocitystdz=mean(velocitystdz))
t2
View(t2)
?unzip
unzip("inidata.zip","prova")
unzip("inidata.zip","UCI HAR Dataset")
unzip("inidata.zip","UCI HAR Dataset/features.txt")
a<-read.table(unzip("inidata.zip","UCI HAR Dataset/features.txt"))
a
# load dplyr
library(dplyr)
# read test data and join all into a table
xtest <- read.table(unzip("inidata.zip","UCI HAR Dataset/Test/X_test.txt"))
ytest <- read.table(unzip("inidata.zip","UCI HAR Dataset/Test/Y_test.txt"))
names(ytest)<-"activity"
stest <- read.table(unzip("inidata.zip","UCI HAR Dataset/Test/subject_test.txt"))
names(stest) <- "subject"
test <- cbind(stest,ytest,xtest)
test <- tbl_df(test)
# read train and join all into a table
xtrain <- read.table(unzip("inidata.zip","UCI HAR Dataset/Train/X_train.txt"))
ytrain <- read.table(unzip("inidata.zip","UCI HAR Dataset/Train/Y_train.txt"))
names(ytrain)<-"activity"
strain <- read.table(unzip("inidata.zip","UCI HAR Dataset/Train/subject_train.txt"))
names(strain) <- "subject"
train <- cbind(strain,ytrain,xtrain)
train <- tbl_df(train)
# read labels and features
labels <- read.table(unzip("inidata.zip","UCI HAR Dataset/activity_labels.txt")
features <- read.table(unzip("inidata.zip","UCI HAR Dataset/features.txt"))
# test+train
t1 <- rbind(test,train)
# select mean and standar deviation
# name activities
t1 <- select(t1, subject, activity,V1:V6,V121:V126)
t1 <- mutate(t1, activity=as.factor(activity))
levels(t1$activity)<-labels[,2]
# name variables
varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
varnames <- substr(varnames,6,18)
varnames <- sub("Acc","acceleration",varnames)
varnames <- sub("Gyro","velocity",varnames)
varnames <- sub("\\()","",varnames)
varnames <- gsub("-","",varnames)
varnames <- tolower(varnames)
t1names <- c(names(t1[1]),names(t1[2]),varnames)
colnames(t1) <- t1names
# mean of each variable of each variable for each activity and each subject
t2 <- group_by(t1,activity,subject)
t2 <-summarize(t2,
Maccelerationmeanx=mean(accelerationmeanx),
Maccelerationmeany=mean(accelerationmeany),
Maccelerationmeanz=mean(accelerationmeanz),
Maccelerationstdx=mean(accelerationstdx),
Maccelerationstdy=mean(accelerationstdy),
Maccelerationstdz=mean(accelerationstdz),
Mvelocitymeanx=mean(velocitymeanx),
Mvelocitymeany=mean(velocitymeany),
Mvelocitymeanz=mean(velocitymeanz),
Mvelocitystdx=mean(velocitystdx),
Mvelocitystdy=mean(velocitystdy),
Mvelocitystdz=mean(velocitystdz))
# load dplyr
library(dplyr)
# read test data and join all into a table
xtest <- read.table(unzip("inidata.zip","UCI HAR Dataset/Test/X_test.txt"))
ytest <- read.table(unzip("inidata.zip","UCI HAR Dataset/Test/Y_test.txt"))
names(ytest)<-"activity"
stest <- read.table(unzip("inidata.zip","UCI HAR Dataset/Test/subject_test.txt"))
names(stest) <- "subject"
test <- cbind(stest,ytest,xtest)
test <- tbl_df(test)
# read train and join all into a table
xtrain <- read.table(unzip("inidata.zip","UCI HAR Dataset/Train/X_train.txt"))
ytrain <- read.table(unzip("inidata.zip","UCI HAR Dataset/Train/Y_train.txt"))
names(ytrain)<-"activity"
strain <- read.table(unzip("inidata.zip","UCI HAR Dataset/Train/subject_train.txt"))
names(strain) <- "subject"
train <- cbind(strain,ytrain,xtrain)
train <- tbl_df(train)
# read labels and features
labels <- read.table(unzip("inidata.zip","UCI HAR Dataset/activity_labels.txt"))
features <- read.table(unzip("inidata.zip","UCI HAR Dataset/features.txt"))
# test+train
t1 <- rbind(test,train)
# select mean and standar deviation
# name activities
t1 <- select(t1, subject, activity,V1:V6,V121:V126)
t1 <- mutate(t1, activity=as.factor(activity))
levels(t1$activity)<-labels[,2]
# name variables
varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
varnames <- substr(varnames,6,18)
varnames <- sub("Acc","acceleration",varnames)
varnames <- sub("Gyro","velocity",varnames)
varnames <- sub("\\()","",varnames)
varnames <- gsub("-","",varnames)
varnames <- tolower(varnames)
t1names <- c(names(t1[1]),names(t1[2]),varnames)
colnames(t1) <- t1names
# mean of each variable of each variable for each activity and each subject
t2 <- group_by(t1,activity,subject)
t2 <-summarize(t2,
Maccelerationmeanx=mean(accelerationmeanx),
Maccelerationmeany=mean(accelerationmeany),
Maccelerationmeanz=mean(accelerationmeanz),
Maccelerationstdx=mean(accelerationstdx),
Maccelerationstdy=mean(accelerationstdy),
Maccelerationstdz=mean(accelerationstdz),
Mvelocitymeanx=mean(velocitymeanx),
Mvelocitymeany=mean(velocitymeany),
Mvelocitymeanz=mean(velocitymeanz),
Mvelocitystdx=mean(velocitystdx),
Mvelocitystdy=mean(velocitystdy),
Mvelocitystdz=mean(velocitystdz))
xtest <- read.table(unzip("inidata.zip","UCI HAR Dataset/Test/X_test.txt"))
read.table(unzip("inidata.zip","UCI HAR Dataset/activity_labels.txt"))
# load dplyr
library(dplyr)
# read test data and join all into a table
xtest <- read.table(unzip("inidata.zip","UCI HAR Dataset/test/X_test.txt"))
ytest <- read.table(unzip("inidata.zip","UCI HAR Dataset/test/Y_test.txt"))
names(ytest)<-"activity"
stest <- read.table(unzip("inidata.zip","UCI HAR Dataset/test/subject_test.txt"))
names(stest) <- "subject"
test <- cbind(stest,ytest,xtest)
test <- tbl_df(test)
# read train and join all into a table
xtrain <- read.table(unzip("inidata.zip","UCI HAR Dataset/train/X_train.txt"))
ytrain <- read.table(unzip("inidata.zip","UCI HAR Dataset/train/Y_train.txt"))
names(ytrain)<-"activity"
strain <- read.table(unzip("inidata.zip","UCI HAR Dataset/train/subject_train.txt"))
names(strain) <- "subject"
train <- cbind(strain,ytrain,xtrain)
train <- tbl_df(train)
# read labels and features
labels <- read.table(unzip("inidata.zip","UCI HAR Dataset/activity_labels.txt"))
features <- read.table(unzip("inidata.zip","UCI HAR Dataset/features.txt"))
# test+train
t1 <- rbind(test,train)
# select mean and standar deviation
# name activities
t1 <- select(t1, subject, activity,V1:V6,V121:V126)
t1 <- mutate(t1, activity=as.factor(activity))
levels(t1$activity)<-labels[,2]
# name variables
varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
varnames <- substr(varnames,6,18)
varnames <- sub("Acc","acceleration",varnames)
varnames <- sub("Gyro","velocity",varnames)
varnames <- sub("\\()","",varnames)
varnames <- gsub("-","",varnames)
varnames <- tolower(varnames)
t1names <- c(names(t1[1]),names(t1[2]),varnames)
colnames(t1) <- t1names
# mean of each variable of each variable for each activity and each subject
t2 <- group_by(t1,activity,subject)
t2 <-summarize(t2,
Maccelerationmeanx=mean(accelerationmeanx),
Maccelerationmeany=mean(accelerationmeany),
Maccelerationmeanz=mean(accelerationmeanz),
Maccelerationstdx=mean(accelerationstdx),
Maccelerationstdy=mean(accelerationstdy),
Maccelerationstdz=mean(accelerationstdz),
Mvelocitymeanx=mean(velocitymeanx),
Mvelocitymeany=mean(velocitymeany),
Mvelocitymeanz=mean(velocitymeanz),
Mvelocitystdx=mean(velocitystdx),
Mvelocitystdy=mean(velocitystdy),
Mvelocitystdz=mean(velocitystdz))
# load dplyr
library(dplyr)
# read test data and join all into a table
xtest <- read.table(unzip("inidata.zip","UCI HAR Dataset/test/X_test.txt"))
ytest <- read.table(unzip("inidata.zip","UCI HAR Dataset/test/y_test.txt"))
names(ytest)<-"activity"
stest <- read.table(unzip("inidata.zip","UCI HAR Dataset/test/subject_test.txt"))
names(stest) <- "subject"
test <- cbind(stest,ytest,xtest)
test <- tbl_df(test)
# read train and join all into a table
xtrain <- read.table(unzip("inidata.zip","UCI HAR Dataset/train/X_train.txt"))
ytrain <- read.table(unzip("inidata.zip","UCI HAR Dataset/train/y_train.txt"))
names(ytrain)<-"activity"
strain <- read.table(unzip("inidata.zip","UCI HAR Dataset/train/subject_train.txt"))
names(strain) <- "subject"
train <- cbind(strain,ytrain,xtrain)
train <- tbl_df(train)
# read labels and features
labels <- read.table(unzip("inidata.zip","UCI HAR Dataset/activity_labels.txt"))
features <- read.table(unzip("inidata.zip","UCI HAR Dataset/features.txt"))
# test+train
t1 <- rbind(test,train)
# select mean and standar deviation
# name activities
t1 <- select(t1, subject, activity,V1:V6,V121:V126)
t1 <- mutate(t1, activity=as.factor(activity))
levels(t1$activity)<-labels[,2]
# name variables
varnames <- c(as.character(features$V2[1:6]),as.character(features$V2[121:126]))
varnames <- substr(varnames,6,18)
varnames <- sub("Acc","acceleration",varnames)
varnames <- sub("Gyro","velocity",varnames)
varnames <- sub("\\()","",varnames)
varnames <- gsub("-","",varnames)
varnames <- tolower(varnames)
t1names <- c(names(t1[1]),names(t1[2]),varnames)
colnames(t1) <- t1names
# mean of each variable of each variable for each activity and each subject
t2 <- group_by(t1,activity,subject)
t2 <-summarize(t2,
Maccelerationmeanx=mean(accelerationmeanx),
Maccelerationmeany=mean(accelerationmeany),
Maccelerationmeanz=mean(accelerationmeanz),
Maccelerationstdx=mean(accelerationstdx),
Maccelerationstdy=mean(accelerationstdy),
Maccelerationstdz=mean(accelerationstdz),
Mvelocitymeanx=mean(velocitymeanx),
Mvelocitymeany=mean(velocitymeany),
Mvelocitymeanz=mean(velocitymeanz),
Mvelocitystdx=mean(velocitystdx),
Mvelocitystdy=mean(velocitystdy),
Mvelocitystdz=mean(velocitystdz))
t2
write.table(t2,file="datasetstep5.txt",row.names = FALSE)
